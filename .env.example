# Streamline Studio Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# REQUIRED - Database
# =============================================================================
# PostgreSQL password (used by docker-compose to initialize the database)
# Generate with: openssl rand -base64 24
# IMPORTANT: Use the same password in DATABASE_URL below!
POSTGRES_PASSWORD=

# PostgreSQL connection string
# Replace YOUR_PASSWORD with the same value as POSTGRES_PASSWORD above
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
#
# FOR LOCAL DEVELOPMENT (running Next.js locally, connecting to Docker database):
DATABASE_URL=postgresql://streamline:YOUR_PASSWORD@localhost:5432/streamline
#
# FOR DOCKER COMPOSE (running entire stack in Docker):
# DATABASE_URL=postgresql://streamline:YOUR_PASSWORD@db:5432/streamline
#
# Note: Docker Compose automatically sets DATABASE_URL with the 'db' hostname.
# Only use localhost when running Next.js locally outside of Docker.

# =============================================================================
# REQUIRED - Security
# =============================================================================
# Session encryption secret (minimum 32 characters)
# Generate with: openssl rand -base64 32
SESSION_SECRET=

# =============================================================================
# OPTIONAL - Application Mode
# =============================================================================
# single-tenant: Self-hosted instance for one user/team
# multi-tenant: SaaS mode with multiple workspaces
MODE=single-tenant

# =============================================================================
# OPTIONAL - Proxy Settings
# =============================================================================
# Set to 'true' when behind a reverse proxy (nginx, Caddy, Traefik, etc.)
# This enables reading client IP from X-Forwarded-For header
TRUSTED_PROXY=false

# =============================================================================
# OPTIONAL - Redis (recommended for production)
# =============================================================================
# Redis is used for distributed rate limiting across multiple server instances
# Optional in development (falls back to in-memory), recommended for production
# FOR DOCKER COMPOSE: redis://redis:6379
# FOR LOCAL REDIS: redis://localhost:6379
# FOR MANAGED REDIS (AWS, DigitalOcean, etc.): Use provided connection URL
# REDIS_URL=redis://redis:6379

# Rate limiting behavior when Redis is unavailable
# 'true' = fail closed (deny requests - more secure)
# 'false' = fail open (allow requests - better availability)
# Default: false
# RATE_LIMIT_FAIL_CLOSED=false

# =============================================================================
# OPTIONAL - Paths
# =============================================================================
# Directory for persistent data (setup completion flag, etc.)
DATA_DIR=/data

# =============================================================================
# OPTIONAL - SMTP Configuration (required for multi-tenant invitations)
# =============================================================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-smtp-username
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=noreply@example.com

# =============================================================================
# OPTIONAL - YouTube Integration (Phase 6)
# =============================================================================
# To enable YouTube integration, you need to:
# 1. Create a Google Cloud project at https://console.cloud.google.com
# 2. Enable YouTube Data API v3 and YouTube Analytics API
# 3. Create OAuth 2.0 credentials (Web application type)
# 4. Set the redirect URI to {YOUR_APP_URL}/api/v1/youtube/callback

# Google Cloud OAuth credentials
# YOUTUBE_CLIENT_ID=your-client-id.apps.googleusercontent.com
# YOUTUBE_CLIENT_SECRET=your-client-secret

# OAuth callback URL (must match Google Cloud console)
# YOUTUBE_REDIRECT_URI=https://your-app.com/api/v1/youtube/callback

# Encryption key for storing YouTube tokens (REQUIRED if using YouTube)
# Generate with: openssl rand -hex 32
# YOUTUBE_TOKEN_ENCRYPTION_KEY=

# Optional: Quota settings for multi-tenant deployments
# YOUTUBE_QUOTA_PER_WORKSPACE=1000
# YOUTUBE_SYNC_INTERVAL_HOURS=6

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================
# These are auto-set in development mode
# NODE_ENV=development
# PORT=3000
